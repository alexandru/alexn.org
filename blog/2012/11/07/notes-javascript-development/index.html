<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <!-- https://github.com/darkreader/darkreader/issues/1114 -->
    <!-- <meta name="darkreader" content="41637b04c7ddb955e533a5c76d68a2c8"> -->
    <meta name="color-scheme" content="light dark">
    <!--https://developers.google.com/web/fundamentals/design-and-ux/browser-customization-->
    <meta name="theme-color" content="#493667">
    
    <title>Notes On JavaScript Client-side Development - Alexandru Nedelcu</title>
    

    <!-- Open Graph Meta -->
    <meta content="Alexandru Nedelcu" property="og:site_name">
    <meta content="Notes On JavaScript Client-side Development" property="og:title">
    <meta content="Client-side JavaScript development can be quite overwhelming, even for senior developers. I‚Äôm describing here what I did in a recent piece of client-side functionality to keep my sanity. This interface I‚Äôm talking about is served on mobile-phones, so it must be pretty bloat-free, adding salt over injury." property="og:description">
    <meta content="https://alexn.org/blog/2012/11/07/notes-javascript-development/" property="og:url">
    <meta content="2012-11-07T00:00:00+00:00" property="article:published_time">
    
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://alexn.org/assets/media/articles/javascript.jpg?202203310904" />
    <meta property="og:image:secure_url" content="https://alexn.org/assets/media/articles/javascript.jpg?202203310904" />
    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:src" content="https://alexn.org/assets/media/articles/javascript.jpg?202203310904">
    <meta name="twitter:site" content="@alexelcu">
    <meta name="twitter:creator" content="@alexelcu">
    <meta name="twitter:title" content="Notes On JavaScript Client-side Development">
    <meta name="twitter:url" content="https://alexn.org/blog/2012/11/07/notes-javascript-development/">
    <meta name="twitter:description" content="Client-side JavaScript development can be quite overwhelming, even for senior developers. I‚Äôm describing here what I did in a recent piece of client-side functionality to keep my sanity. This interface I‚Äôm talking about is served on mobile-phones, so it must be pretty bloat-free, adding salt over injury.">
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="48x48" />
    <link rel="icon" href="/assets/logo/16px.png" sizes="16x16" />
    <link rel="icon" href="/assets/logo/32px.png" sizes="32x32" />
    <link rel="icon" href="/assets/logo/192px.png" sizes="192x192" />
    <link rel="icon" href="/assets/logo/270px.png" sizes="270x270" />
    <link rel="icon" href="/assets/logo/512px.png" sizes="512x512" />
    <link rel="apple-touch-icon-precomposed" href="/assets/logo/180px.png" />
    <meta name="msapplication-TileImage" content="/assets/logo/270px.png" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="All articles (blog, snippets, wiki, links)" href="/feeds/all.xml" />
    <link rel="alternate" type="application/rss+xml" title="Blog" href="/feeds/blog.xml" />
    <link rel="alternate" type="application/rss+xml" title="Snippets" href="/feeds/snippets.xml" />
    <link rel="alternate" type="application/rss+xml" title="Wiki" href="/feeds/wiki.xml" />
    <link rel="alternate" type="application/rss+xml" title="Shared Links" href="/feeds/links.xml" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/assets/css/style.css?202203310904">
    <link rel="preload" as="style" href="/assets/css/style.css?202203310904">
    
    <!--[if IE 8]><link rel="stylesheet" href="/assets/css/ie.css"><![endif]-->
    <link rel="canonical" href="https://alexn.org/blog/2012/11/07/notes-javascript-development/">
</head>


<body>
   <div class="header">
  <div class="container">
    <div class="inner-container">
      <h1 class="logo"><a href="/">Alex<span class="wide2">andru</span> Nedelcu<span class="wide1"> =&lt;&lt;</span></a></h1>
      <nav class="nav-collapse">
        <ul class="noList">
          
          <li class="element first current ">
            <a href="/blog/">Blog</a>
          </li>
          
          <li class="element   ">
            <a href="/wiki/">Wiki</a>
          </li>
          
          <li class="element   ">
            <a href="/snippets/">Snippets</a>
          </li>
          
          <li class="element   ">
            <a href="/links/">Links</a>
          </li>
          
          <li class="element   ">
            <a href="/about/">About</a>
          </li>
          
          <li class="element   last">
            <a href="/subscribe/">Subscribe</a>
          </li>
          
        </ul>
      </nav>  
    </div>
  </div>
</div><!-- end .header -->


   <div class="content">
      <div class="container">
         <article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header>
      <h1 class="postTitle" itemprop="headline">
        
        
          
      Notes On JavaScript Client-side Development
    
        
        
      </h1>
    
    <p class="meta">
      <meta itemscope itemprop="mainEntityOfPage"  itemType="https://schema.org/WebPage" itemid="https://alexn.org/blog/2012/11/07/notes-javascript-development/"/>
      <meta itemprop="datePublished" content="2012-11-07T00:00:00+0000"/>
      
      <time itemprop="dateCreated" datetime="2012-11-07T00:00:00+0000">November 7, 2012</time>
      | <nobr><span class="time">6</span> minutes</nobr>
    </p>

    
        <figure class="featuredImage" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
          <meta itemprop="url" content="https://alexn.org/assets/media/articles/javascript.jpg" />
          <img src="/assets/media/articles/javascript.jpg?202203310904" alt="" />
          
        </figure>
        
    

    <div class="hidden" itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
      <meta itemprop="name" content="Alexandru Nedelcu">
      <meta itemprop="url" content="https://alexn.org/about/">
      <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
        <meta itemprop="url" content="https://alexn.org/assets/raw/logo-green.png">
      </div>
    </div>
    <div class="hidden" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="Alexandru Nedelcu" />
        <meta itemprop="url" content="https://alexn.org/about/#alexelcu" />
        <meta itemprop="url" content="https://twitter.com/alexelcu" />
        <meta itemprop="url" content="https://github.com/alexandru" />
      </div>
    

    </header>

  <div id="content" itemprop="articleBody">
    <p class="intro withcap">
  Client-side JavaScript development can be quite overwhelming, even for
  senior developers. I'm describing here what I did in a recent piece of
  client-side functionality to keep my sanity. This interface I'm
  talking about is served on mobile-phones, so it must be pretty
  bloat-free, adding salt over injury.
</p>
      <h2 id="dealing-with-modules-packaging-and-minifying">
        
        
          Dealing with modules, packaging and minifying <a href="#dealing-with-modules-packaging-and-minifying" class="anchor">#</a>
        
        
      </h2>
    

<p>This is probably my biggest gripe with JavaScript, that you can‚Äôt
simply <code class="language-plaintext highlighter-rouge">require("some.namespace")</code> without extra glue and tricks. This
is a limitation of the browser, as such operations would have to be
executed asynchronously, requiring tedious callbacks and because of
bandwidth constraints you may want to serve everything in a single
optimized and gzipped JS.</p>

<!-- read more -->

<p><strong><a href="http://brunch.io/">Brunch.io</a></strong> is an awesome tool that helps you
do that. You split your project in multiple files, then Brunch can do
the assembling for you. To have modules in your project (splitting it
in several files), Brunch works with the
<a href="http://wiki.commonjs.org/wiki/Modules/1.1">CommonJS modules</a>
interface. All that means is that your JavaScript files will end-up
looking like this:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="code"><code><span class="c1">// for importing another module</span>
<span class="nx">utils</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">path/to/utils</span><span class="dl">"</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">generateRandomString</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">userAgent</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span>	
  <span class="kd">var</span> <span class="nx">rnd</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100000000</span>
  <span class="k">return</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">md5</span><span class="p">(</span><span class="nx">userAgent</span> <span class="o">+</span> <span class="nx">rnd</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// exporting function for consumption from other modules</span>
<span class="nx">modules</span><span class="p">.</span><span class="k">export</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">generateRandomString</span><span class="p">:</span> <span class="nx">generateRandomString</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Building changes and seeing them in your browser works really fast, as
Brunch can watch for changes in real-time and also exposes a built-in
server. So Brunch can take care of packaging for all your modules in a
single JS file, also minimizing for production if you want. The
workflow is pretty sweat, the configuration simple.</p>
      <h2 id="dealing-with-javascripts-syntax-quirks">
        
        
          Dealing with JavaScript‚Äôs Syntax Quirks <a href="#dealing-with-javascripts-syntax-quirks" class="anchor">#</a>
        
        
      </h2>
    

<p>JavaScript is a capable language exposed by an awful syntax and
plagued by incompatibilities - did you know that placing extra commas
or other punctuation will cause syntax errors in older browsers? So
it‚Äôs not just about API incompatibilities, the syntax itself can lead
to surprises.</p>

<p>Brunch can be configured to check your code with
<a href="http://www.jshint.com/">JSHint</a>, which is a Linter that can check for
syntax errors and you can use it to force upon yourself and your team
certain best practices. It has a lot of
<a href="http://www.jshint.com/docs/">configuration options</a> and for instance
it can trigger errors on uninitialized variables and other
tremendously useful stuff.</p>

<p>I‚Äôve used <a href="http://coffeescript.org/">CoffeeScript</a> as Brunch can work
with any language, with the proper plugin. I preferred CoffeeScript
because I develop in a more functional style and CoffeeScript has a
lighter syntax for anonymous functions, plus some other fixes to
JavaScript, like ‚Äúclass‚Äù or the fat-arrow that binds the defined
function to the current <code class="language-plaintext highlighter-rouge">this</code> (tremendously useful). I coupled
CoffeeScript with <a href="http://www.coffeelint.org/">CoffeeLint</a> and for
instance I disabled the implicit braces when declaring object
literals, as I hate that syntax and don‚Äôt want to get sucked into
it. What I really wanted however was
<a href="http://www.typescriptlang.org/">TypeScript</a>, which is like
JavaScript, but with nice add-ons. Unfortunately it‚Äôs too immature and
so
<a href="https://twitter.com/brunch/status/253571565923467264">it isn‚Äôt included by Brunch‚Äôs authors yet</a>,
but it probably will be at some point.</p>
      <h2 id="dealing-with-async-events">
        
        
          Dealing with Async Events <a href="#dealing-with-async-events" class="anchor">#</a>
        
        
      </h2>
    

<p>Many people use <a href="http://backbonejs.org/">Backbone.js</a> or things based
on it. What Backbone gives you, besides a structure for your app with
controllers and models, it also gives you a foundation for using the
<a href="http://en.wikipedia.org/wiki/Observer_pattern">Observer pattern</a>. So
your app initiates events that produce data and in response to user
actions or new data, you have to update stuff.</p>

<p>However my use-case was simple (the interface can be described by a
state-machine, without many things going on as far as the UI is
concerned). And <em>I absolutely hate</em> this consumer/producer model with
listeners, because I can‚Äôt really wrap my head around it even for the
simplest of examples, as this model was really designed for usage
inside an IDE, where you can right-click on components and see all the
registered listeners for certain events.</p>

<p><strong><a href="https://github.com/kriskowal/q">The Q library</a></strong> - is one library
I‚Äôm using for dealing with <em>future</em> responses (a promise for a
response that may be available at a later time) and for avoiding the
<a href="http://calculist.org/blog/2011/12/14/why-coroutines-wont-work-on-the-web/">Pyramid of Doom</a>.</p>

<p>You see, many people choose something like Backbone because it makes
asynchronicity easier to deal with. I chose against it by building
small functions that compose, binding them together with Q. Works
great for small projects, even if the asynchronous calls are difficult
to compose, because working with promises makes that easy - note that
<a href="https://gist.github.com/3889970">jQuery‚Äôs implementation is broken</a>,
so don‚Äôt use it, just wrap jQuery‚Äôs ajax calls in a Q promise.</p>

<p>Also, the great thing about preferring small functions with
referential transparency that compose is that testing becomes so much
easier. Brunch can also run your tests and you can use something like
<a href="http://chaijs.com/">Chai</a> or other helpers for testing nirvana.</p>

<p>This doesn‚Äôt mean that Backbone and data flows with something like Q
can‚Äôt be used together. I can certainly see myself working with
Backbone for larger projects.</p>
      <h2 id="going-mobile">
        
        
          Going Mobile <a href="#going-mobile" class="anchor">#</a>
        
        
      </h2>
    

<p>Other libraries I‚Äôm using are:</p>

<ul>
  <li><a href="http://underscorejs.org/">Underscore.js</a>, which provides much
needed API additions, some of which are available in latest versions
of JS, but not on older browsers. You definitely need this if you
like to program in a more functional style</li>
  <li><a href="http://zeptojs.com/">Zepto</a> instead of jQuery, because this
interface is served on mobile phones and jQuery is pretty
bloated. I‚Äôll also probably switch to
<a href="http://www.jqmobi.com/">jqMobi</a> because it‚Äôs even lighter.</li>
</ul>

<p>In regards to jQuery alternatives, well jQuery adds like 33KB of
gzipped JavaScript to my download. This may not be an issue in a
browser that has jQuery already cached, but in a fresh
<a href="http://developer.android.com/reference/android/webkit/WebView.html">WebView</a>
it‚Äôs really big for normal 3G connections. My final JS file that gets
downloaded only has 20KB of gzipped JS, in total, including the
libraries I mentioned and it won‚Äôt grow over 30KB. In combination with
a CDN like <a href="http://aws.amazon.com/cloudfront/">CloudFront</a> that‚Äôs
still reasonable.</p>

<p>The ideal would be to use something like the
<a href="https://developers.google.com/closure/">Google Closure</a> compiler,
which can do tree-shaking, getting rid of pieces of code you don‚Äôt
need. However, the code has to follow the Closure conventions,
otherwise it will behave no better than a normal minifier and
libraries like jQuery don‚Äôt follow them. That‚Äôs why I have high hopes
for <a href="http://www.typescriptlang.org/">TypeScript</a>, because it has a
built-in dependency system and you can annotate with types even
outside libraries, so a tree-shaker could work for popular libraries
if there‚Äôs enough interest, even if the library in question does not
follow any conventions. I also thought about using
<a href="https://github.com/clojure/clojurescript">ClojureScript</a>, which emits
Closure-compatible JavaScript, but I‚Äôm not familiar enough with the
language, so maybe some other day :-)</p>
      <h2 id="as-a-conclusion">
        
        
          As a conclusion <a href="#as-a-conclusion" class="anchor">#</a>
        
        
      </h2>
    

<p>Keep things simple and work with tools provided by the Node.js
community, because that‚Äôs where the real action is.</p>

  </div>

  <div id="article-details">
    
    <time itemprop="dateModified" content="2012-11-07T00:00:00+0000">
        Published: November 7, 2012
    </time>
    
      | Written by <a href="https://alexn.org/about/#alexelcu" itemprop="url" rel="author">Alexandru Nedelcu</a>
    

    <div id="all-categories">
      Tags:
      
        
        <a href="/blog/tag/javascript/" class="category">JavaScript</a>
      
         | 
        <a href="/blog/tag/fp/" class="category">FP</a>
      
         | 
        <a href="/blog/tag/browser/" class="category">Browser</a>
      
         | 
        <a href="/blog/tag/web/" class="category">Web</a>
      
    </div>
  </div>

  
  <div class="related">
      <h2 id="related-articles">
        
        
          Related Articles <a href="#related-articles" class="anchor">#</a>
        
        
      </h2>
    
    <div class="container">
      
      
      <div class="item">
        <a class="related-link" href="/blog/2011/03/24/cross-domain-requests/">
          Cross-Domain, Cross-Browser AJAX Requests
        </a>
        <div class="related-meta">
          <div class="tags">
            
            
              <a href="/blog/tag/javascript" class="tag">JavaScript</a>
            
               | <a href="/blog/tag/browser" class="tag">Browser</a>
            
               | <a href="/blog/tag/web" class="tag">Web</a>
                        
          </div>
          <time>March 24, 2011</time>
        </div>
        <div class="clearfix"></div>
      </div>
      
      
      
      <div class="item">
        <a class="related-link" href="/blog/2020/10/20/block-comments-on-the-web/">
          Block comments on the web
        </a>
        <div class="related-meta">
          <div class="tags">
            
            
              <a href="/blog/tag/browser" class="tag">Browser</a>
            
               | <a href="/blog/tag/privacy" class="tag">Privacy</a>
            
               | <a href="/blog/tag/web" class="tag">Web</a>
                        
          </div>
          <time>October 20, 2020</time>
        </div>
        <div class="clearfix"></div>
      </div>
      
      
      
      <div class="item">
        <a class="related-link" href="/blog/2017/10/15/functional-programming/">
          What is Functional Programming?
        </a>
        <div class="related-meta">
          <div class="tags">
            
            
              <a href="/blog/tag/best%20of" class="tag">Best Of</a>
            
               | <a href="/blog/tag/fp" class="tag">FP</a>
            
               | <a href="/blog/tag/haskell" class="tag">Haskell</a>
            
               | <a href="/blog/tag/scala" class="tag">Scala</a>
            
               | <a href="/blog/tag/javascript" class="tag">JavaScript</a>
                        
          </div>
          <time>October 15, 2017</time>
        </div>
        <div class="clearfix"></div>
      </div>
      
      
      <div class="clearfix"></div>
    </div>
  </div>
  

  
</article>

      </div>
   </div><!-- end .content -->

   <script async src="/assets/js/modernizr.custom.15390.js?202203310904" type="text/javascript"></script>
<script async src="/assets/js-managed/jquery/dist/jquery.slim.min.js?202203310904" type="text/javascript"></script>
<script async src="/assets/js/dropcap.min.js?202203310904" type="text/javascript"></script>
<script async src="/assets/js/responsive-nav.min.js?202203310904" type="text/javascript"></script>

<script async src="/assets/js/scripts.js?202203310904" type="text/javascript"></script>

   <div class="footer">
  
  <div class="container">
    <div class="contributions">
      <h2 id="comments">
  Comments
  <a href="#comments" class="anchor">#</a>
</h2>

<p>
  Do you have suggestions? Want to chat? Email me at: <br>
  <script>
    (function () {
      var lhs = "contact22+comments";
      var rhs = "alexn.org";
      document.write("<a target=\"_blank\" href=\"mailto");
      document.write(":" + lhs + "@");
      document.write(rhs);
      document.write("?subject=Comment%20on%3A%20Notes%20On%20JavaScript%20Client-side%20Development")
      document.write("\">" + lhs + "@" + rhs + "<\/a>");
    })()
  </script>
  <noscript>
    <em>Email address is protected via JavaScript, activate it to see it!</em>
  </noscript>
</p>

<h2 id="contribute">
  Contribute
  <a href="#contribute" class="anchor">#</a>
</h2>


<p>
  Fix or add to this article by submitting a pull request:<br/>
  <a style="white-space: nowrap;" href="https://github.com/alexandru/alexn.org/blob/main/_posts/2012-11-07-notes-javascript-development.md" target="_blank">Edit Page on GitHub</a>
</p>

<p>
  Donate to cover ongoing website costs, or buy me coffee ‚òïÔ∏èüòã <br/>
  <a href="https://www.patreon.com/bePatron?u=6102596" target="_blank">
    <img label="Become a Patron!" alt="Become a Patron!" title="Become a Patron!" src="/assets/media/buttons/patreon.png" height="40" />
  </a>
</p>


<h2 id="subscribe">
  Subscribe
  <a href="#subscribe" class="anchor">#</a>
</h2>

<!-- Begin Mailchimp Signup Form -->
<div id="mc_embed_signup">
  <form action="https://alexn.us4.list-manage.com/subscribe/post?u=5bffa2af025192a58345bd5dc&amp;id=1c9005b255"
    method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
    novalidate>
    <div id="mc_embed_signup_scroll">
      <div class="mc-field-group field">
        <label for="mce-EMAIL">Email Address <sup class="asterisk">*</sup></label>
        <input type="email" value="" name="EMAIL" class="required email full-width" id="mce-EMAIL" placeholder="user@domain.com" required>
      </div>
      <!-- <div class="mc-field-group field">
        <label for="mce-FULLNAME">Name</label>
        <input type="text" value="" name="FULLNAME" class="full-width" id="mce-FULLNAME" placeholder="John Doe">
      </div> -->
      <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
      </div>
      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
          name="b_5bffa2af025192a58345bd5dc_1c9005b255" tabindex="-1" value=""></div>
      <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
          class="button"></div>
    </div>
  </form>
</div>

<div class="note">
  <span class="extra">
    Newsletter subscription uses Mailchimp, see <a href="/docs/privacy-policy/">privacy policy</a>.
    If you're not seeing the form, it may be blocked by the browser; <a target="_blank" href="http://eepurl.com/g5ClAT"><em><span style="white-space: nowrap;">try the external subscribe page &#10141;</span></em></a>
  </span>
</div>


    </div>  
  </div>
  

  <div class="bottom">
    <div class="container">
      <span class="copy">
          &copy; 2009-2022
      </span>
      <span class="links">
        <a href="/docs/license/">License</a> |
        <a href="/docs/privacy-policy/">Privacy Policy</a> |
        <a href="/about/#contact">Contact</a>
      </span>
    </div>
  </div>
</div><!-- end .footer -->

</body>
</html>
