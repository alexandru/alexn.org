<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="{{ "/assets/css/snippet.css" | prepend:
    site.baseurl }}">

    {% capture page_title %}{{ page.name | replace: ".md", "" }}{% endcapture %}
    <title>{{ page_title | xml_escape }} - {{ site.title }}</title>

    <meta content="{{ site.title | xml_escape }}" property="og:site_name">
    <meta content="{{ page_title | xml_escape }}" property="og:title">
    {% if page.description -%}
      <meta content="{{ page.description | markdownify | strip_html | xml_escape | strip }}" property="og:description">
    {% else %}
      <meta content="Code snippet" property="og:description">
    {% endif -%}
    {% if page.url -%}
      <meta content="{{ site.url }}{{ page.url }}" property="og:url">
    {% endif -%}
    {% if page.date -%}
      <meta content="{{ page.date | date_to_xmlschema }}" property="article:published_time">
    {% endif -%}
    {% if page.last_modified_at -%}
      <meta content="{{ page.last_modified_at | date_to_xmlschema }}" property="article:modified_time">
    {% endif -%}
    <meta property="og:type" content="article" />
    {% if page.image %}
    <meta property="og:image" content="{{ site.url }}{{ page.image }}" />
    <meta property="og:image:secure_url" content="{{ site.url }}{{ page.image }}" />
    {% else %}
    <meta property="og:image" content="{{ '/assets/logo/800px.png' | prepend: site.url }}" />
    <meta property="og:image:secure_url" content="{{ '/assets/logo/800px.png' | prepend: site.url }}" />
    {% endif -%}

    <!-- Twitter Cards -->
    {% if page.vimeo -%}
    <meta name="twitter:card" content="player" />
    <meta name="twitter:player" content="{{ page.vimeo | vimeo_player_link }}">
    <meta name="twitter:player:width" content="560">
    <meta name="twitter:player:height" content="315">  
    <meta name="twitter:image" content="{% if page.image %}{{ page.image | prepend: site.url }}{% else %}{{ page.vimeo | vimeo_thumb_link }}{% endif %}" />
    {% elsif page.youtube -%}
    <meta name="twitter:card" content="player" />
    <meta name="twitter:player" content="{{ page.youtube | youtube_player_link }}">
    <meta name="twitter:player:width" content="560">
    <meta name="twitter:player:height" content="315">
    <meta name="twitter:image" content="{% if page.image %}{{ page.image | prepend: site.url }}{% else %}{{ page.youtube | youtube_thumb_link }}{% endif %}" />
    {% elsif page.image -%}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:src" content="{{ page.image | prepend: site.url }}">
    {% else %}
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image:src" content="{{ '/assets/logo/800px.png' | prepend: site.url }}">
    {% endif -%}
  
    {% if page.author -%}
      {% assign author_twitter = site.authors | map: page.author | map: "twitter" -%}
    {% else %}
      {% assign author_twitter = site.authors.alexelcu.twitter %}
    {% endif -%}
    <meta name="twitter:site" content="@{{ author_twitter }}">
    <meta name="twitter:creator" content="@{{ author_twitter }}">
    <meta name="twitter:title" content="{{ page_title }}">
    {% if page.url -%}
      <meta name="twitter:url" content="{{ site.url }}{{ page.url }}">
    {% endif -%}
    {% if page.description -%}
      <meta name="twitter:description" content="{{ page.description | markdownify | strip_html | xml_escape | strip }}">
    {% else %}
      <meta name="twitter:description" content="{{ site.description | markdownify | strip_html | xml_escape | strip }}">
    {% endif -%}

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% link /favicon.ico %}" sizes="16x16" />
    <link rel="icon" href="{% link /assets/logo/32px.png %}" sizes="32x32" />
    <link rel="icon" href="{% link /assets/logo/192px.png %}" sizes="192x192" />
    <link rel="icon" href="{% link /assets/logo/270px.png %}" sizes="270x270" />
    <link rel="apple-touch-icon-precomposed" href="{% link /assets/logo/180px.png %}" />
    <meta name="msapplication-TileImage" content="{% link /assets/logo/270px.png %}" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="{{ site.title | xml_escape }}" href="{{ site.feed }}" />
  </head>
  <body>
    {{ content }}
  </body>
</html>
