<% wrap_layout :layout do %>
<article id="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    <h1 itemprop="name"><%= current_page.title %></h1>

    <div id="meta">
      <time class="post-date" itemprop="dateCreated" datetime="<%= current_page.date.strftime('%Y-%m-%d') %>"><%= current_page.date.strftime("%b %d, %Y") %></time>      
    </div>    
  </header>

  <div id="content" itemprop="articleBody">
    <%= yield %>

    <div class="authorship" itemprop="author" itemscope itemtype="http://schema.org/Person">
      Written by <a href="https://plus.google.com/112639155372207976835/" itemprop="url" rel="author">Alexandru Nedelcu</a>
    </div>

    <div class="sharethis">
      <div class="g-plusone" data-size="medium"></div>
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="alex_ndc">Tweet</a>

      <%= javascript_include_tag "sharethis" %>
    </div>
  </div>

  <footer>
    <div id="other-articles">
      <h2>Recent Articles</h2>

      <ul class="posts">
	<% page_articles.find_all{|x| !x.data.archive && x.url != current_page.url}[0..6].each_with_index do |article, i| %>	
	<li> 
	  <time datetime="<%= article.date.strftime("%Y-%m-%d") %>">
	    <%= article.date.strftime("%Y-%m-%d") %> &raquo;
	  </time>
	  <a href="<%= article.url %>" rel="prefetch related"><%= article.title %></a>
	</li>      
	<% end %>
      </ul>
    </div>
  </footer>
</article>
<% end %>
